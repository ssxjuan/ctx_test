<!DOCTYPE html>

<html lang="en">

    <head>

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Centrex : : Web3</title>

        <link rel="stylesheet" href="../../css/styles.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/smooth-scrollbar/7.4.1/smooth-scrollbar.css">

        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

    </head>

<body class="dark-bg">
    <nav class="index-pages">

        <div class="bg"></div>
        <div class="brand">
            <img src="images/Brand.png" alt="">
            <span>Centrex</span>
        </div>

        <div class="items">
            <div class="hiddeable">
                <a class="sub" href="">Earn</a>
                <a class="sub" href="">Buy Crypto</a>
                <a class="sub" href="">Sell with Centrex</a>
            </div>

            <div class="pb">
            
                <a class="border-btn" href="">Log out</a>       
                
                <img class="mobile-menu" src="images/mbmenu.png">
            </div>
        </div>

    </nav>

    <div class="loader">
		<img src="<?php echo userassets(); ?>custom_theme3/images/Brand Black.png">
	</div>
    

    <div id="my-scrollbar" class="structure">

        
        <div class="noscroll-container" style="justify-content: center;">
            <form action="<?php echo base_url(); ?>en/centrex/profile/company_upd" method="POST" class="kycMerc">

                <h4>Company Information</h4>
                <p>We need some information about your Company</p>

                <label class="borderLabel" for="company">Company Name <span>*</span></label>
                <input class="borderInput" type="text" id="company" value="<?php echo $company_info->company_name; ?>" autocomplete="off">

                <label class="borderLabel" for="incorporation_country">Incorporation Country <span>*</span></label>
                <div class="borderSelect" name="incorporation_country" id="incorporation_country" value="<?php echo $company_info->incorporation_country; ?>" autocomplete="off">
                    <span class="unused">Select</span>
                    <img src="images/arrow.png">
                    <div class="options">
                        <p var="ar">Text</p>
                        <p var="br">Argentina</p>
                        <p var="dd">Argentina</p>
                        <p var="ar">Argentina</p>
                    </div>
                </div>

                <div class="birthSelector">
                
                    <div class="datePicker">

                        <div class="month">

                            <div class="dateTittle">
                                <p>Month</p>
                            </div>
                            

                            <div class="picker">

                                <span month="01">January</span>
                                <span month="02">February</span>
                                <span month="03">March</span>
                                <span month="04">April</span>
                                <span month="05">May</span>
                                <span month="06">June</span>
                                <span month="07">July</span>
                                <span month="08">August</span>
                                <span month="09">September</span>
                                <span month="10">October</span>
                                <span month="11">November</span>
                                <span month="12">December</span>
                                
                            </div>

                        </div>

                        <div class="day">

                            <div class="dateTittle">
                                <img src="images/arrow-bold.png" alt="">
                                <p>Day</p>
                            </div>

                            <div class="picker">

                            </div>

                        </div>

                        <div class="year">

                            <div class="dateTittle">
                                <img src="images/arrow-bold.png" alt="">
                                <p>Year</p>
                            </div>

                            <div class="picker">

                            </div>
                            
                        </div>
                    </div>

                    <label class="borderLabel" for="date">Date of Incorporation <span>*</span></label>
                    <div class="dateSelector">
                        <input class="borderInput" type="text" autocomplete="off" id="date_of_incorporation" name="date_of_incorporation" value="<?php echo $company_info->date_of_incorporation; ?>" autocomplete="off">
                        <img src="images/calendar.png">
                    </div>

                </div>

                <label class="borderLabel" for="idnumber">Registration Number <span>*</span></label>
                <input class="borderInput" type="text" id="idnumber" name="registration_number" value="<?php echo $company_info->registration_number; ?>" autocomplete="off">

                <label class="borderLabel" for="country">Country <span>*</span></label>
                <div class="borderSelect" name="country" name="company_country" id="company_country">
                    <span class="unused">Select</span>
                    <img src="images/arrow.png">
                    <div class="options">
                        <?php foreach ($country as $countries) { ?>
                            <p value="<?php echo $countries->countries_id; ?>"><?php echo $countries->countryname; ?></p>
                        <?php } ?> 
                    </div>
                </div>
                
                <label class="borderLabel" for="state">State <span>*</span></label>
                <div class="borderSelect" name="company_state" id="company_state">
                    <span class="unused">Select</span>
                    <img src="images/arrow.png">
                    <div class="options">
                        <?php foreach ($state as $key) { ?>
                            <p value="<?php echo $key->id; ?>"><?php echo $key->state_name; ?></p>
                        <?php } ?>
                    </div>
                </div>

                <label class="borderLabel" for="city">City <span>*</span></label>
                <div class="borderSelect" name="company_city" id="company_city" >
                    <span class="unused">Select</span>
                    <img src="images/arrow.png">
                    <div class="options">
                        <?php foreach ($city as $key) { ?>
                            <p value="<?php echo $key->id; ?>"><?php echo $key->city_name; ?></p>
                        <?php } ?>
                    </div>
                </div>

                <label class="borderLabel" for="address">Address <span>*</span></label>
                <input class="borderInput" type="text" id="address" name="company_address" value="<?php echo $company_info->address; ?>" autocomplete="off">

                <label class="borderLabel" for="identity">Company Identity <span>*</span></label>
                <div class="borderSelect" name="company_entity" id="company_entity">
                    <span class="unused">Select</span>
                    <img src="images/arrow.png">
                    <div class="options">
                        <p value="Public Limited Company" <?php if($company_info->entity_type == 'Public Limited Company'){ echo 'selected'; } ?> >Public Limited Company</p>
                        <p value="Private Limited Company" <?php if($company_info->entity_type == 'Private Limited Company'){ echo 'selected'; } ?>>Private Limited Company</p>
                        <p value="Joint-Venture Company" <?php if($company_info->entity_type == 'Joint-Venture Company'){ echo 'selected'; } ?>>Joint-Venture Company</p>
                        <p value="Partnership Firm" <?php if($company_info->entity_type == 'Partnership Firm'){ echo 'selected'; } ?>>Partnership Firm</p>
                        <p value="One Person Company" <?php if($company_info->entity_type == 'Limited Liability Company'){ echo 'selected'; } ?> >Limited Liability Company</p>
                        <p value="Sole Proprietorship" <?php if($company_info->entity_type == 'Sole Proprietorship'){ echo 'selected'; } ?> >Sole Proprietorship</p>
                        <p value="Branch Office" <?php if($company_info->entity_type == 'Branch Office'){ echo 'selected'; } ?>>Branch Office</p>
                        <p value="Non-Government Organization" <?php if($company_info->entity_type == 'Non-Government Organization'){ echo 'selected'; } ?>>Non-Government Organization</p>
                    </div>
                </div>

                <label class="borderLabel" for="">Nature of Business <span>*</span></label>
                <textarea class="borderArea" name="business_nature" rows="6"><?php echo $company_info->business_nature; ?></textarea>

                <button class="btnBorder" id="submit_" type="submit" name="submit_company">Continue</button>

            </form>
        </div>
    </div>
    
    <script src="https://unpkg.com/smooth-scrollbar@8.5.2/dist/smooth-scrollbar.js"></script>
    
    <script>
        const bodyScrollBar = Scrollbar.init(document.querySelector('#my-scrollbar'), { damping: 0.07 });

        $(window).on("load",function(){
            $('nav').css('margin-top', '100px')
            $('nav .bg').css('opacity', '100%')

            $('.loader img').css('opacity', '0%')
            $('.loader').css('opacity', '0%')

            setTimeout(function(){
                $('.loader').css('z-index', '-1')
            }, 700)

            $('#lname_').on('keydown', function(evt) { //prevent tab
                if (evt.key === 'Tab') {
                    evt.preventDefault();
                    $('#date_').trigger('click');
                }
            });

        })
    </script>

    <script>
        var month = "", day = "", year = ""

        $('.dateSelector img').click(function(){
            if($('.datePicker').css('display') == 'none')

                $('.datePicker').css('display', 'flex')

            else

                $('.datePicker').css('display', 'none')

        })

        $('.month').on('click', 'span', function(){

            $('.month').css('display', 'none')
            $('.datePicker').css({
                'top': '-230px',
                'height': '250px'
            })
            $('.day').css('display', 'block')

            month = $(this).attr('month')
            $('.dateSelector input').val(month + day + year) //filling

            switch ($(this).attr('month')){
                case '01':
                case '03':
                case '05':
                case '07':
                case '08':
                case '10':
                case '12':
                    for (var i=0; i<32; i++)
                        $('.day .picker').append("<span day="+ i +">" + i + "</span>")
                    break;

                case '04':
                case '06':
                case '09':
                case '11':
                    for (var i=0; i<31; i++)
                        $('.day .picker').append("<span day="+ i +">" + i + "</span>")
                    break;
                    
                case '02':
                    for (var i=0; i<30; i++)
                        $('.day .picker').append("<span day="+ i +">" + i + "</span>")
                    break;

            }
        })

        $('.day').on('click', 'span', function(){

            $('.day').css('display', 'none')
            $('.year').css('display', 'block')

            day = "." + $(this).attr('day')
            $('.dateSelector input').val(month + day + year) //filling

            for (var i=2010; i>1910; i--)
                $('.year .picker').append("<span year="+ i +">" + i + "</span>")
        })

        $('.year').on('click', 'span', function(){

            $('.datePicker').css('display', 'none')

            year = "." + $(this).attr('year')
            $('.dateSelector input').val(month + day + year) //filling

            if($('#fname_').val() && $('#lname_').val() && $('#date_').val()){
                $('.btnBorder').addClass('btnActive')
            } else {
                $('.btnBorder').removeClass('btnActive')
            }

        })

        //back
        $('.dateTittle img').click(function(){

            actualSelect = $(this).parent().parent()
            if(actualSelect.hasClass('day')){

                actualSelect.css('display', 'none')
                actualSelect.find('.picker').empty();
                $('.datePicker').css({
                    'top': '-160px',
                    'height': '180px'
                })
                $('.month').css('display', 'block')
            } else {
                actualSelect.css('display', 'none')
                $('.day').css('display', 'block')
            }

        })

        $('.dateSelector input').click(function(){
            if($('.datePicker').css('display') == 'none')

                $('.datePicker').css('display', 'flex')

            else

                $('.datePicker').css('display', 'none')

        })
    </script>

    <script>
        $('.borderSelect').click(function(){

            dropdown = $(this).find('.options')
            $('.borderSelect').css('z-index', '1')
            $(this).css('z-index', '9899')

            if(dropdown.css('display') == 'none') {

                $(this).find('img').css('transform', 'rotate(-90deg)')
                $('.options').css('display', 'none')
                dropdown.css('display', 'block')
                
            }
            else {

                $('.borderSelect img').css('transform', 'rotate(90deg)')
                $('.options').css('display', 'none')

            }
                
        })

        $('.options p').click(function(){

            var old = $(this).parent().parent().find('span')

            old.text($(this).text())
            old.attr('var', $(this).attr('var')) //get var from option, put in the selected span

            old.removeClass('unused')

            if($("input").filter(function () {return $.trim($(this).val()).length == 0}).length == 0 && $('.kycMerc textarea').val() && !$('#country span').hasClass('unused') && !$('#state span').hasClass('unused') && !$('#city span').hasClass('unused') && !$('#incorporation span').hasClass('unused') && !$('#identity span').hasClass('unused')){
                $('.btnBorder').addClass('btnActive')
            } else {
                $('.btnBorder').removeClass('btnActive')
            }
        })

        
        $('input, textarea').keyup(function(){
            
            if($("input").filter(function () {return $.trim($(this).val()).length == 0}).length == 0 && $('.kycMerc textarea').val() && !$('#country span').hasClass('unused') && !$('#state span').hasClass('unused') && !$('#city span').hasClass('unused') && !$('#incorporation span').hasClass('unused') && !$('#identity span').hasClass('unused')){
                $('.btnBorder').addClass('btnActive')
            } else {
                $('.btnBorder').removeClass('btnActive')
            }
        })
    </script>
</body>
</html>